(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[0],{35:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r.n(s),n=r(27),o=r.n(n),c=r(9),i=(r(35),r(2)),l=r(28),d="https://twittercloneinvozone.herokuapp.com",m=r.n(l).a.create({baseURL:d,headers:{"Content-type":"application/json"}});var u=r(1);var b=function(){var e=Object(i.g)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{className:"bg-green-500 m-3",type:"button",onClick:function(){localStorage.removeItem("user"),localStorage.removeItem("isAuthenticated"),e.push("/login")},children:"Logout"})})},f=r(4),x=r(10),j=r(13),p=function(e){var t=e.username,r=e.handleFormInput,a=e.error,n=Object(s.useRef)();return Object(s.useEffect)((function(){a.username.length>0?(n.current.classList.replace("focus:border-indigo-500","focus:border-red-500"),n.current.nextSibling.innerText=a.username):(n.current.classList.replace("focus:border-red-500","focus:border-indigo-500"),n.current.nextSibling.innerText="")})),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"username-address",className:"sr-only",children:"Username address"}),Object(u.jsx)("input",{id:"username-address",ref:n,name:"username",type:"username",value:t,autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username",onChange:function(e){return r(e)}}),Object(u.jsx)("span",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1"})]})};function g(e){var t=e.password,r=e.handleFormInput,a=e.error,n=Object(s.useRef)();return Object(s.useEffect)((function(){a.password.length>0?(n.current.classList.replace("focus:border-indigo-500","focus:border-red-500"),n.current.nextSibling.innerText=a.password):(n.current.classList.replace("focus:border-red-500","focus:border-indigo-500"),n.current.nextSibling.innerText="")})),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(u.jsx)("input",{id:"password",name:"password",ref:n,type:"password",value:t,autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",onChange:function(e){return r(e)}}),Object(u.jsx)("span",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1"})]})}function h(e,t,r){var s=t,a=r;if("username"===e.target.name){s.username=e.target.value;s.username.length>0&&!/^\S*$/.test(s.username)?a.username="No whitespace allowed":s.username.length>0&&s.username.length<5?a.username="Username must be 5 character":a.username=""}if("password"===e.target.name&&(s.password=e.target.value,s.password.length<8&&s.password.length>0?a.password="Password must be of 8 characters":a.password=""),"email"===e.target.name){s.email=e.target.value;!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(s.email)&&s.email.length>0?a.email="Email must be valid":a.email=""}return"firstName"===e.target.name&&(s.firstName=e.target.value),"lastName"===e.target.name&&(s.lastName=e.target.value),"confirmPassword"===e.target.name&&(s.confirmPassword=e.target.value,t.password!==t.confirmPassword?a.confirmPassword="Password doesn't match":a.confirmPassword=""),[s,a]}function O(){var e=Object(s.useState)(""),t=Object(x.a)(e,2),r=t[0],a=t[1],n=Object(s.useRef)(),o=Object(i.g)(),l=Object(s.useState)({username:"",password:""}),b=Object(x.a)(l,2),O=b[0],w=b[1],N=Object(s.useState)({username:"",password:""}),v=Object(x.a)(N,2),y=v[0],P=v[1];Object(s.useEffect)((function(){n.current.innerText=r}));var k=function(e){var t=h(e,O,y),r=Object(x.a)(t,2),s=r[0],a=r[1];P((function(e){return Object(f.a)(Object(f.a)({},e),{},{username:a.username,password:a.password})})),w((function(e){return Object(f.a)(Object(f.a)({},e),{},{username:s.username,password:s.password})}))};return Object(u.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(u.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(u.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(u.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(e){e.preventDefault(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.post("".concat(d,"/api/login/"),JSON.stringify(e)).then((function(e){return e.data.access&&(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("isAuthenticated",!0)),e.data}))}(O).then((function(){a(""),o.push("/")})).catch((function(e){a(e.response.data.detail)}))},children:[Object(u.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(u.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(u.jsx)(p,{username:O.username,handleFormInput:k,error:y}),Object(u.jsx)(g,{password:O.password,handleFormInput:k,error:y})]}),Object(u.jsxs)("div",{className:"flex items-center justify-between",children:[Object(u.jsx)("span",{ref:n,className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1"}),Object(u.jsx)("div",{className:"text-sm",children:Object(u.jsx)(c.b,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"If you do not have account then sign up!"})})]}),Object(u.jsx)("div",{children:Object(u.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(u.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(u.jsx)(j.a,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Sign in"]})})]})]})})}var w=function(e){var t=e.email,r=e.handleFormInput,a=e.error,n=Object(s.useRef)();return Object(s.useEffect)((function(){a.email.length>0?(n.current.classList.replace("focus:border-indigo-500","focus:border-red-500"),n.current.nextSibling.innerText=a.email):(n.current.classList.replace("focus:border-red-500","focus:border-indigo-500"),n.current.nextSibling.innerText="")})),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),Object(u.jsx)("input",{id:"email-address",ref:n,name:"email",type:"email",value:t,autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",onChange:function(e){return r(e)}}),Object(u.jsx)("span",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1"})]})};function N(e){var t=e.confirmPassword,r=e.handleFormInput,a=e.error,n=Object(s.useRef)();return Object(s.useEffect)((function(){a.confirmPassword.length>0?(n.current.classList.replace("focus:border-indigo-500","focus:border-red-500"),n.current.nextSibling.innerText=a.confirmPassword):(n.current.classList.replace("focus:border-red-500","focus:border-indigo-500"),n.current.nextSibling.innerText="")})),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Password"}),Object(u.jsx)("input",{id:"confirmPassword",name:"confirmPassword",ref:n,type:"password",value:t,autoComplete:"current-confirmPassword",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",onChange:function(e){return r(e)}}),Object(u.jsx)("span",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1"})]})}function v(){var e=Object(s.useState)({username:"",email:"",firstName:"",lastName:"",password:"",confirmPassword:""}),t=Object(x.a)(e,2),r=t[0],a=t[1],n=Object(s.useState)({username:"",email:"",firstName:"",lastName:"",password:"",confirmPassword:""}),o=Object(x.a)(n,2),i=o[0],l=o[1],b=function(e){var t=h(e,r,i),s=Object(x.a)(t,2),n=s[0],o=s[1];l((function(e){return Object(f.a)(Object(f.a)({},e),{},{username:o.username,password:o.password,email:o.email,firstName:o.firstName,lastName:o.lastName,confirmPassword:o.confirmPassword})})),a((function(e){return Object(f.a)(Object(f.a)({},e),{},{username:n.username,password:n.password,email:n.email,firstName:n.firstName,lastName:n.lastName,confirmPassword:n.confirmPassword})}))},O=function(e){e.preventDefault(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.post("".concat(d,"/api/register/"),JSON.stringify(e))}({email:r.email,username:r.username,password:r.password,password2:r.confirmPassword,first_name:r.firstName,last_name:r.lastName}).then((function(e){return console.log(e.data)})).catch((function(e){var t=e.response.data;Object.prototype.hasOwnProperty.call(t,"email")&&l((function(e){return Object(f.a)(Object(f.a)({},e),{},{email:"Email is already taken"})})),Object.prototype.hasOwnProperty.call(t,"username")&&l((function(e){return Object(f.a)(Object(f.a)({},e),{},{username:"Username is already taken"})}))}))};return Object(u.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(u.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(u.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Register your account"})]}),Object(u.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(e){return O(e)},children:[Object(u.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(u.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(u.jsx)(p,{username:r.username,handleFormInput:b,error:i}),Object(u.jsx)(w,{email:r.email,handleFormInput:b,error:i}),Object(u.jsxs)("div",{className:"flex items-center justify-between",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"first-name",className:"sr-only",children:"First Name"}),Object(u.jsx)("input",{id:"first-name",name:"firstName",type:"firstName",autoComplete:"firstName",required:!0,value:r.firstName,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"First Name",onChange:function(e){return b(e)}}),Object(u.jsx)("span",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"last-name",className:"sr-only",children:"Last Name"}),Object(u.jsx)("input",{id:"last-name",name:"lastName",type:"lastName",autoComplete:"lastName",required:!0,value:r.lastName,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Last Name",onChange:function(e){return b(e)}}),Object(u.jsx)("span",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1"})]})]}),Object(u.jsx)(g,{password:r.password,handleFormInput:b,error:i}),Object(u.jsx)(N,{confirmPassword:r.confirmPassword,handleFormInput:b,error:i})]}),Object(u.jsx)("div",{className:"flex items-center justify-end",children:Object(u.jsx)("div",{className:"text-sm",children:Object(u.jsx)(c.b,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"If already have an account then sign in!"})})}),Object(u.jsx)("div",{children:Object(u.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(u.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(u.jsx)(j.a,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Register"]})})]})]})})}function y(){return Object(u.jsx)("div",{className:"bg-white min-h-screen px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:Object(u.jsx)("div",{className:"max-w-max mx-auto",children:Object(u.jsxs)("main",{className:"sm:flex",children:[Object(u.jsx)("p",{className:"text-4xl font-extrabold text-indigo-600 sm:text-5xl",children:"404"}),Object(u.jsxs)("div",{className:"sm:ml-6",children:[Object(u.jsxs)("div",{className:"sm:border-l sm:border-gray-200 sm:pl-6",children:[Object(u.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl",children:"Page not found"}),Object(u.jsx)("p",{className:"mt-1 text-base text-gray-500",children:"Please check the URL in the address bar and try again."})]}),Object(u.jsx)("div",{className:"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:Object(u.jsx)(c.b,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})]})})})}var P=r(30),k=["component"];function S(e){var t=e.component,r=Object(P.a)(e,k),s=localStorage.getItem("isAuthenticated");return Object(u.jsx)(i.b,Object(f.a)(Object(f.a)({},r),{},{render:function(e){return s?Object(u.jsx)(t,Object(f.a)({},e)):Object(u.jsx)(i.a,{to:"/login"})}}))}var F=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(S,{exact:!0,path:"/",component:b}),Object(u.jsx)(i.b,{path:"/login",component:O,exact:!0}),Object(u.jsx)(i.b,{path:"/register",component:v,exact:!0}),Object(u.jsx)(i.b,{component:y})]})})};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(c.a,{children:Object(u.jsx)(F,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.110f999d.chunk.js.map